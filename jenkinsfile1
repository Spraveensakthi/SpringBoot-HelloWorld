pipeline{
    agent any
    environment {
        PATH = "C:/Program Files/Apache maven-3.8.2/bin: $PATH"
           }
    stages{
            
       stage('Build'){
            steps{
                bat 'mvn clean package'
            }
         }
         // Lint with MegaLinter: https://megalinter.github.io/
       stage('MegaLinter') {
           agent {
           docker {
            image 'megalinter/megalinter'
            args "-u root -e "VALIDATE_ALL_CODEBASE=true" -e "FILEIO_REPORTER=true" -v ${WORKSPACE}:/tmp/lint --entrypoint=''"
            reuseNode true
        }
    }
    steps {
        sh '/entrypoint.sh'
    }
       }
    }
    }
